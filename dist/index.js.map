{"version":3,"file":"index.js","sources":["../node_modules/tslib/tslib.es6.js","../src/constant/api/index.ts","../src/constant/applications/index.ts","../src/constant/common/index.ts","../src/constant/editframe/index.ts","../src/constant/video/audio.ts","../src/constant/video/compositions.ts","../src/constant/routes/index.ts","../node_modules/@editframe/shared-types/dist/index.js","../src/constant/video/filters.ts","../src/constant/video/layer.ts","../src/constant/video/layers.ts","../src/constant/video/lottie.ts","../src/constant/video/media.ts","../src/constant/video/text.ts","../src/constant/video/video.ts","../src/constant/video/visualMedia.ts","../src/constant/videos/index.ts","../src/strings/api/index.ts","../src/strings/applications/index.ts","../node_modules/colors/lib/styles.js","../node_modules/colors/lib/system/has-flag.js","../node_modules/colors/lib/system/supports-colors.js","../node_modules/colors/lib/custom/trap.js","../node_modules/colors/lib/custom/zalgo.js","../node_modules/colors/lib/maps/america.js","../node_modules/colors/lib/maps/zebra.js","../node_modules/colors/lib/maps/rainbow.js","../node_modules/colors/lib/maps/random.js","../node_modules/colors/lib/colors.js","../node_modules/colors/safe.js","../src/strings/editframe/index.ts","../src/strings/validation/index.ts","../src/strings/video/compositions.ts","../src/strings/video/media.ts","../src/strings/video/text.ts","../src/strings/video/visualMedia.ts","../src/strings/videos/index.ts","../src/utils/api/index.ts","../src/utils/applications/index.ts","../src/utils/errors/index.ts","../src/utils/strings/index.ts","../src/utils/files/index.ts","../src/utils/forms/index.ts","../src/utils/paths/index.ts","../src/utils/validation/index.ts","../src/utils/video/filters/index.ts","../src/utils/video/layers/index.ts","../src/utils/video/compositions/index.ts","../src/utils/videos/index.ts","../src/api/index.ts","../src/features/applications/index.ts","../src/features/videos/layer/index.ts","../src/features/videos/media/index.ts","../src/features/videos/audio/index.ts","../src/features/videos/filter/index.ts","../src/features/videos/visualMedia/index.ts","../src/utils/video/index.ts","../src/features/videos/lottie/index.ts","../src/features/videos/text/index.ts","../src/features/videos/video/index.ts","../src/features/videos/composition/index.ts","../src/features/videos/index.ts","../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import FormData from 'form-data'\n\nexport interface ApiInterface {\n  get: ({ url }: { url: string }) => Promise<unknown>\n  post: ({\n    data,\n    isForm,\n    url,\n  }: {\n    data: FormData | Record<string, any>\n    isForm: boolean\n    url: string\n  }) => Promise<unknown>\n  put: ({\n    data,\n    isForm,\n    url,\n  }: {\n    data: FormData | Record<string, any>\n    isForm: boolean\n    url: string\n  }) => Promise<unknown>\n}\n\nexport type ApiOptions = {\n  clientId: string\n  fetch: FetchFunction\n  host?: string\n  token: string\n  version?: number\n}\n\nexport enum ApiHeaderKey {\n  accept = 'Accept',\n  authorization = 'Authorization',\n  contentType = 'Content-Type',\n  editframeClientId = 'Editframe-Client-Id',\n  userAgent = 'User-Agent',\n  xRequestedWith = 'X-Requested-With',\n}\n\nexport enum ApiHeaderValue {\n  bearer = 'Bearer ',\n  editframeJs = 'editframe.js/',\n  xRequestedWithXML = 'XMLHttpRequest',\n}\n\nexport type ApiHeaders = Record<string, string> & {\n  [ApiHeaderKey.accept]?: string\n  [ApiHeaderKey.authorization]: string\n  [ApiHeaderKey.contentType]?: string\n  [ApiHeaderKey.editframeClientId]: string\n  [ApiHeaderKey.userAgent]?: string\n  [ApiHeaderKey.xRequestedWith]?: string\n}\n\ntype HeaderOption = { headers?: Record<string, string> }\n\nexport interface FormDataInterface {\n  append: (key: string, value: any, options?: FormData.AppendOptions | string) => void\n}\n\nexport type FetchOptions = Omit<RequestInit, 'headers'> & HeaderOption & { url: string }\n\nexport enum HTTPMethod {\n  delete = 'delete',\n  get = 'get',\n  post = 'post',\n  put = 'put',\n}\n\nexport type Fetcher = (options?: FetchOptions) => Promise<Response>\n\nexport type FetchFunction = (args: {\n  data?: any\n  headers?: ApiHeaders\n  method?: HTTPMethod\n  url: string\n}) => Promise<unknown>\n\nexport type MakeFetchFunction = (fetcher: Fetcher) => FetchFunction\n","import { Hashided, Timestamped } from 'constant/common'\n\nexport enum ApiApplicationAttribute {\n  description = 'description',\n  lastUsedAt = 'lastUsedAt',\n  name = 'name',\n  webhook = 'webhook',\n}\n\nexport type ApiApplication = Hashided &\n  Timestamped & {\n    [ApiApplicationAttribute.description]: string\n    [ApiApplicationAttribute.lastUsedAt]: string\n    [ApiApplicationAttribute.name]: string\n    [ApiApplicationAttribute.webhook]: string\n  }\n","export enum PrimitiveType {\n  number = 'number',\n  object = 'object',\n  string = 'string',\n  undefined = 'undefined',\n}\n\nexport enum MimeType {\n  json = 'application/json',\n}\n\nexport type Hashided = {\n  id: string\n}\n\nexport type Timestamped = {\n  createdAt: string\n  updatedAt: string\n}\n","export interface EditframeOptions {\n  clientId: string\n  host?: string\n  log?: boolean\n  token: string\n  version?: number\n}\n\nexport const defaultHost = 'https://api.editframe.com'\n","export enum AudioMethod {\n  setMuted = 'setMuted',\n  setVolume = 'setVolume',\n}\n","import { Blob } from 'node:buffer'\nimport { Readable } from 'stream'\n\nimport { Filter } from 'constant/video/filters'\nimport { IdentifiedLayer, LayerAttribute, Size } from 'constant/video/layers'\nimport { LottieAnimationData } from 'constant/video/lottie'\n\nexport type LayerAttributeValue = number | string | Filter | LottieAnimationData\n\nexport enum CompositionMethod {\n  addAudio = 'addAudio',\n  addFilter = 'addFilter',\n  addImage = 'addImage',\n  addLottie = 'addLottie',\n  addText = 'addText',\n  addVideo = 'addVideo',\n  addWaveform = 'addWaveform',\n  backgroundColor = 'backgroundColor',\n  dimensions = 'dimensions',\n  duration = 'duration',\n  encode = 'encode',\n  layer = 'layer',\n  layers = 'layers',\n  metadata = 'metadata',\n  setLayer = 'setLayer',\n  updateLayerAttribute = 'updateLayerAttribute',\n}\n\nexport interface CompositionInterface {\n  [CompositionMethod.layer]: (id: string) => IdentifiedLayer\n  [CompositionMethod.layers]: IdentifiedLayer[]\n  [CompositionMethod.updateLayerAttribute]: (\n    id: string,\n    layerAttribute: LayerAttribute,\n    value: LayerAttributeValue\n  ) => void\n}\n\nexport type CompositionFile = Readable | Blob | string\n\nexport enum CompositionOptionAttribute {\n  backgroundColor = 'backgroundColor',\n  dimensions = 'dimensions',\n  duration = 'duration',\n  metadata = 'metadata',\n}\n\nexport type Metadata = Record<string, string>\n\nexport type VideoOptions = {\n  [CompositionOptionAttribute.backgroundColor]?: string\n  [CompositionOptionAttribute.dimensions]?: Size\n  [CompositionOptionAttribute.duration]?: number\n  [CompositionOptionAttribute.metadata]?: Metadata\n}\n\nexport type CompositionOptions = {\n  [CompositionOptionAttribute.backgroundColor]?: string\n  [CompositionOptionAttribute.dimensions]: Size\n  [CompositionOptionAttribute.duration]: number\n  [CompositionOptionAttribute.metadata]?: Metadata\n}\n\nexport type EncodeConfig = CompositionOptions & {\n  dimensions: { height: number; width: number }\n  layers: IdentifiedLayer[]\n}\n\nexport enum EncodeResponseAttribute {\n  id = 'id',\n  status = 'status',\n  timestamp = 'timestamp',\n}\n\nexport type EncodeResponse = {\n  [EncodeResponseAttribute.id]: string\n  [EncodeResponseAttribute.status]: string\n  [EncodeResponseAttribute.timestamp]: number\n}\n","export const Routes = {\n  applications: {\n    all: '/applications',\n    get: '/applications/:id',\n  },\n  metadata: '/metadata',\n  videos: {\n    all: '/videos',\n    create: '/videos',\n    get: '/video/:id',\n  },\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nexports.FilterName = void 0;\r\n(function (FilterName) {\r\n    FilterName[\"brightness\"] = \"brightness\";\r\n    FilterName[\"contrast\"] = \"contrast\";\r\n    FilterName[\"fadeIn\"] = \"fadein\";\r\n    FilterName[\"fadeOut\"] = \"fadeout\";\r\n    FilterName[\"grayscale\"] = \"grayscale\";\r\n    FilterName[\"lighten\"] = \"lighten\";\r\n    FilterName[\"negative\"] = \"negative\";\r\n    FilterName[\"saturation\"] = \"saturation\";\r\n    FilterName[\"sobel\"] = \"sobel\";\r\n    FilterName[\"vintage\"] = \"vintage\";\r\n})(exports.FilterName || (exports.FilterName = {}));\r\nexports.FilterOptionKey = void 0;\r\n(function (FilterOptionKey) {\r\n    FilterOptionKey[\"brightness\"] = \"brightness\";\r\n    FilterOptionKey[\"color\"] = \"color\";\r\n    FilterOptionKey[\"contrast\"] = \"contrast\";\r\n    FilterOptionKey[\"duration\"] = \"duration\";\r\n    FilterOptionKey[\"saturation\"] = \"saturation\";\r\n})(exports.FilterOptionKey || (exports.FilterOptionKey = {}));\n//# sourceMappingURL=index.js.map\n","import {\n  FilterBrightness,\n  FilterContrast,\n  FilterFadeIn,\n  FilterName,\n  FilterOptionKey,\n  FilterSaturation,\n} from '@editframe/shared-types'\n\nimport { PrimitiveType } from 'constant/common'\n\nexport const FilterOptionTypes = {\n  [FilterName.brightness]: {\n    [FilterOptionKey.brightness]: PrimitiveType.number,\n  },\n  [FilterName.contrast]: {\n    [FilterOptionKey.contrast]: PrimitiveType.number,\n  },\n  [FilterName.fadeIn]: {\n    [FilterOptionKey.color]: PrimitiveType.string,\n    [FilterOptionKey.duration]: PrimitiveType.number,\n  },\n  [FilterName.saturation]: {\n    [FilterOptionKey.saturation]: PrimitiveType.number,\n  },\n}\n\nexport enum FilterAttribute {\n  filterName = 'filterName',\n  options = 'options',\n}\n\nexport type Filter = {\n  [FilterAttribute.filterName]: FilterName\n  [FilterAttribute.options]: FilterBrightness | FilterContrast | FilterFadeIn | FilterSaturation | undefined\n}\n\nexport enum FilterMethod {\n  setFilter = 'setFilter',\n}\n","export enum LayerMethod {\n  setLength = 'setLength',\n  setStart = 'setStart',\n}\n","import { Filter } from 'constant/video/filters'\nimport { LottieAnimationData } from 'constant/video/lottie'\n\nexport enum LayerAttribute {\n  backgroundColor = 'backgroundColor',\n  color = 'color',\n  data = 'data',\n  end = 'end',\n  filter = 'filter',\n  fontFamily = 'fontFamily',\n  fontSize = 'fontSize',\n  format = 'format',\n  height = 'height',\n  horizontalAlignment = 'horizontalAlignment',\n  length = 'length',\n  maxFontSize = 'maxFontSize',\n  maxHeight = 'maxHeight',\n  maxWidth = 'maxWidth',\n  start = 'start',\n  style = 'style',\n  text = 'text',\n  textAlignment = 'textAlignment',\n  trim = 'trim',\n  type = 'type',\n  verticalAlignment = 'verticalAlignment',\n  volume = 'volume',\n  width = 'width',\n  x = 'x',\n  y = 'y',\n}\nexport type Size = {\n  [LayerAttribute.height]?: number\n  [LayerAttribute.width]?: number\n}\nexport enum LayerType {\n  audio = 'audio',\n  filter = 'filter',\n  image = 'image',\n  lottie = 'lottie',\n  text = 'text',\n  video = 'video',\n  waveform = 'waveform',\n}\n\nexport enum LayerHorizontalAlignmentValue {\n  center = 'center',\n  left = 'left',\n  right = 'right',\n}\nexport type LayerHorizontalAlignment =\n  | LayerHorizontalAlignmentValue.left\n  | LayerHorizontalAlignmentValue.center\n  | LayerHorizontalAlignmentValue.right\n\nexport enum LayerVerticalAlignmentValue {\n  bottom = 'bottom',\n  middle = 'middle',\n  top = 'top',\n}\nexport type LayerVerticalAlignment =\n  | LayerVerticalAlignmentValue.bottom\n  | LayerVerticalAlignmentValue.middle\n  | LayerVerticalAlignmentValue.top\n\nexport enum LayerFormatValue {\n  fill = 'fill',\n  fit = 'fit',\n  stretch = 'stretch',\n}\nexport type LayerFormat = LayerFormatValue.fill | LayerFormatValue.fit | LayerFormatValue.stretch\n\nexport enum WaveformLayerStyleValue {\n  line = 'line',\n  wave = 'wave',\n}\nexport type WaveformLayerStyle = WaveformLayerStyleValue.wave | WaveformLayerStyleValue.line\n\nexport type LayerBase = {\n  [LayerAttribute.start]?: number\n  [LayerAttribute.length]?: number\n}\n\nexport type Trim = {\n  [LayerAttribute.end]?: number\n  [LayerAttribute.start]: number\n}\n\nexport type LayerTrim = {\n  [LayerAttribute.trim]?: Trim\n}\n\nexport type LayerAlignment = {\n  [LayerAttribute.horizontalAlignment]?: LayerHorizontalAlignment\n  [LayerAttribute.verticalAlignment]?: LayerVerticalAlignment\n}\n\nexport type LayerVisualMedia = Size & {\n  [LayerAttribute.backgroundColor]?: string\n  [LayerAttribute.color]?: string\n  [LayerAttribute.format]?: LayerFormat\n  [LayerAttribute.x]?: number\n  [LayerAttribute.y]?: number\n}\n\nexport type LayerText = {\n  [LayerAttribute.fontFamily]?: string\n  [LayerAttribute.fontSize]?: number\n  [LayerAttribute.maxFontSize]?: number\n  [LayerAttribute.maxHeight]?: number\n  [LayerAttribute.maxWidth]?: number\n  [LayerAttribute.text]: string\n  [LayerAttribute.textAlignment]?: LayerHorizontalAlignment\n}\n\nexport type LayerAudio = {\n  [LayerAttribute.volume]?: number\n}\n\nexport type LayerFilter = {\n  [LayerAttribute.filter]: Filter\n}\n\nexport type LayerLottie = {\n  [LayerAttribute.data]?: LottieAnimationData\n}\n\nexport enum WaveformStyle {\n  bars = 'bars',\n  line = 'line',\n}\nexport type LayerWaveform = {\n  [LayerAttribute.style]?: WaveformStyle\n}\n\nexport type AudioLayer = LayerBase & LayerTrim & LayerAudio\nexport type FilterLayer = LayerBase & LayerFilter\nexport type ImageLayer = LayerBase & LayerVisualMedia\nexport type LottieLayer = LayerBase & LayerLottie\nexport type TextLayer = LayerBase & LayerAlignment & LayerText & LayerVisualMedia\nexport type VideoLayer = LayerBase & LayerTrim & AudioLayer & LayerVisualMedia\n\nexport type WaveformLayer = LayerBase & LayerVisualMedia & LayerWaveform\n\nexport type ComposableLayer =\n  | AudioLayer\n  | FilterLayer\n  | ImageLayer\n  | LottieLayer\n  | TextLayer\n  | VideoLayer\n  | (WaveformLayer & {\n      [LayerAttribute.type]: string\n    })\n  | FilterLayer\n\nexport type TypedLayer = ComposableLayer & {\n  type: LayerType\n}\n\nexport type IdentifiedLayer = TypedLayer & {\n  id: string\n}\n","export enum LottieMethod {\n  setAnimationData = 'setAnimationData',\n}\n\nexport interface LottieFont {\n  ascent: number\n  fFamily: string\n  fName: string\n  fStyle: string\n}\n\nexport interface LottieAnimationFontData {\n  list: [LottieFont]\n}\n\nexport interface LottieAnimationData {\n  assets: any[]\n  ddd: number\n  fonts?: LottieAnimationFontData\n  fr: number\n  h: number\n  ip: number\n  layers: any[]\n  markers?: any[]\n  nm: string\n  op: number\n  v: string\n  w: number\n}\n","export enum MediaMethod {\n  setTrim = 'setTrim',\n}\n","export enum TextMethod {\n  setFontFamily = 'setFontFamily',\n  setFontSize = 'setFontSize',\n  setMaxFontSize = 'setMaxFontSize',\n  setMaxHeight = 'setMaxHeight',\n  setMaxWidth = 'setMaxWidth',\n  setText = 'setText',\n  setTextAlignment = 'setTextAlignment',\n}\n","export enum VideoMethod {\n  setDimensions = 'setDimensions',\n  setFilter = 'setFilter',\n}\n","export enum VisualMediaMethod {\n  setBackgroundColor = 'setBackgroundColor',\n  setColor = 'setColor',\n  setFormat = 'setFormat',\n  setHeight = 'setHeight',\n  setWidth = 'setWidth',\n  setX = 'setX',\n  setY = 'setY',\n}\n","import { Hashided, Timestamped } from 'constant/common'\n\nexport enum ApiVideoAttribute {\n  downloadUrl = 'downloadUrl',\n  duration = 'duration',\n  isReady = 'isReady',\n  metadata = 'metadata',\n  streamUrl = 'streamUrl',\n  thumbnailUrl = 'thumbnailUrl',\n  timestamp = 'timestamp',\n}\n\nexport type ApiVideo = Hashided &\n  Timestamped & {\n    [ApiVideoAttribute.downloadUrl]?: string\n    [ApiVideoAttribute.duration]?: number\n    [ApiVideoAttribute.isReady]: boolean\n    [ApiVideoAttribute.metadata]: Record<string, unknown>\n    [ApiVideoAttribute.streamUrl]?: string\n    [ApiVideoAttribute.thumbnailUrl]?: string\n    [ApiVideoAttribute.timestamp]: number\n  }\n\nexport enum ApiVideoMethod {\n  all = 'all',\n  get = 'get',\n  getMetadata = '_getMetadata',\n  new = 'new',\n}\n\nexport enum ApiVideoMetadataAttribute {\n  bitrate = 'bitrate',\n  codec = 'codec',\n  duration = 'duration',\n  fps = 'fps',\n  height = 'height',\n  size = 'size',\n  width = 'width',\n}\n\nexport type ApiVideoMetadata = {\n  [ApiVideoMetadataAttribute.bitrate]: number\n  [ApiVideoMetadataAttribute.codec]: string\n  [ApiVideoMetadataAttribute.duration]: number\n  [ApiVideoMetadataAttribute.fps]: number\n  [ApiVideoMetadataAttribute.height]: number\n  [ApiVideoMetadataAttribute.size]: number\n  [ApiVideoMetadataAttribute.width]: number\n}\n\nexport enum ApiVideoMetadataFormDataKey {\n  type = 'type',\n}\n\nexport enum ApiVideoMetadataType {\n  audio = 'audio',\n  image = 'image',\n  video = 'video',\n}\n","export const ApiErrorText = {\n  requestUnsuccessful: (url: string, statusText: string): string => `${url} - ${statusText}`,\n}\n","export const ApplicationErrorText = {\n  get: (message: string): string => `Error getting applications: ${message}`,\n  malformedResponse: 'malformed `applications` response',\n}\n","/*\nThe MIT License (MIT)\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nvar styles = {};\nmodule['exports'] = styles;\n\nvar codes = {\n  reset: [0, 0],\n\n  bold: [1, 22],\n  dim: [2, 22],\n  italic: [3, 23],\n  underline: [4, 24],\n  inverse: [7, 27],\n  hidden: [8, 28],\n  strikethrough: [9, 29],\n\n  black: [30, 39],\n  red: [31, 39],\n  green: [32, 39],\n  yellow: [33, 39],\n  blue: [34, 39],\n  magenta: [35, 39],\n  cyan: [36, 39],\n  white: [37, 39],\n  gray: [90, 39],\n  grey: [90, 39],\n\n  brightRed: [91, 39],\n  brightGreen: [92, 39],\n  brightYellow: [93, 39],\n  brightBlue: [94, 39],\n  brightMagenta: [95, 39],\n  brightCyan: [96, 39],\n  brightWhite: [97, 39],\n\n  bgBlack: [40, 49],\n  bgRed: [41, 49],\n  bgGreen: [42, 49],\n  bgYellow: [43, 49],\n  bgBlue: [44, 49],\n  bgMagenta: [45, 49],\n  bgCyan: [46, 49],\n  bgWhite: [47, 49],\n  bgGray: [100, 49],\n  bgGrey: [100, 49],\n\n  bgBrightRed: [101, 49],\n  bgBrightGreen: [102, 49],\n  bgBrightYellow: [103, 49],\n  bgBrightBlue: [104, 49],\n  bgBrightMagenta: [105, 49],\n  bgBrightCyan: [106, 49],\n  bgBrightWhite: [107, 49],\n\n  // legacy styles for colors pre v1.0.0\n  blackBG: [40, 49],\n  redBG: [41, 49],\n  greenBG: [42, 49],\n  yellowBG: [43, 49],\n  blueBG: [44, 49],\n  magentaBG: [45, 49],\n  cyanBG: [46, 49],\n  whiteBG: [47, 49],\n\n};\n\nObject.keys(codes).forEach(function(key) {\n  var val = codes[key];\n  var style = styles[key] = [];\n  style.open = '\\u001b[' + val[0] + 'm';\n  style.close = '\\u001b[' + val[1] + 'm';\n});\n","/*\nMIT License\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\nof the Software, and to permit persons to whom the Software is furnished to do\nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\n'use strict';\n\nmodule.exports = function(flag, argv) {\n  argv = argv || process.argv;\n\n  var terminatorPos = argv.indexOf('--');\n  var prefix = /^-{1,2}/.test(flag) ? '' : '--';\n  var pos = argv.indexOf(prefix + flag);\n\n  return pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","/*\nThe MIT License (MIT)\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\n'use strict';\n\nvar os = require('os');\nvar hasFlag = require('./has-flag.js');\n\nvar env = process.env;\n\nvar forceColor = void 0;\nif (hasFlag('no-color') || hasFlag('no-colors') || hasFlag('color=false')) {\n  forceColor = false;\n} else if (hasFlag('color') || hasFlag('colors') || hasFlag('color=true')\n           || hasFlag('color=always')) {\n  forceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n  forceColor = env.FORCE_COLOR.length === 0\n    || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n  if (level === 0) {\n    return false;\n  }\n\n  return {\n    level: level,\n    hasBasic: true,\n    has256: level >= 2,\n    has16m: level >= 3,\n  };\n}\n\nfunction supportsColor(stream) {\n  if (forceColor === false) {\n    return 0;\n  }\n\n  if (hasFlag('color=16m') || hasFlag('color=full')\n      || hasFlag('color=truecolor')) {\n    return 3;\n  }\n\n  if (hasFlag('color=256')) {\n    return 2;\n  }\n\n  if (stream && !stream.isTTY && forceColor !== true) {\n    return 0;\n  }\n\n  var min = forceColor ? 1 : 0;\n\n  if (process.platform === 'win32') {\n    // Node.js 7.5.0 is the first version of Node.js to include a patch to\n    // libuv that enables 256 color output on Windows. Anything earlier and it\n    // won't work. However, here we target Node.js 8 at minimum as it is an LTS\n    // release, and Node.js 7 is not. Windows 10 build 10586 is the first\n    // Windows release that supports 256 colors. Windows 10 build 14931 is the\n    // first release that supports 16m/TrueColor.\n    var osRelease = os.release().split('.');\n    if (Number(process.versions.node.split('.')[0]) >= 8\n        && Number(osRelease[0]) >= 10 && Number(osRelease[2]) >= 10586) {\n      return Number(osRelease[2]) >= 14931 ? 3 : 2;\n    }\n\n    return 1;\n  }\n\n  if ('CI' in env) {\n    if (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(function(sign) {\n      return sign in env;\n    }) || env.CI_NAME === 'codeship') {\n      return 1;\n    }\n\n    return min;\n  }\n\n  if ('TEAMCITY_VERSION' in env) {\n    return (/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0\n    );\n  }\n\n  if ('TERM_PROGRAM' in env) {\n    var version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n    switch (env.TERM_PROGRAM) {\n      case 'iTerm.app':\n        return version >= 3 ? 3 : 2;\n      case 'Hyper':\n        return 3;\n      case 'Apple_Terminal':\n        return 2;\n      // No default\n    }\n  }\n\n  if (/-256(color)?$/i.test(env.TERM)) {\n    return 2;\n  }\n\n  if (/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n    return 1;\n  }\n\n  if ('COLORTERM' in env) {\n    return 1;\n  }\n\n  if (env.TERM === 'dumb') {\n    return min;\n  }\n\n  return min;\n}\n\nfunction getSupportLevel(stream) {\n  var level = supportsColor(stream);\n  return translateLevel(level);\n}\n\nmodule.exports = {\n  supportsColor: getSupportLevel,\n  stdout: getSupportLevel(process.stdout),\n  stderr: getSupportLevel(process.stderr),\n};\n","module['exports'] = function runTheTrap(text, options) {\n  var result = '';\n  text = text || 'Run the trap, drop the bass';\n  text = text.split('');\n  var trap = {\n    a: ['\\u0040', '\\u0104', '\\u023a', '\\u0245', '\\u0394', '\\u039b', '\\u0414'],\n    b: ['\\u00df', '\\u0181', '\\u0243', '\\u026e', '\\u03b2', '\\u0e3f'],\n    c: ['\\u00a9', '\\u023b', '\\u03fe'],\n    d: ['\\u00d0', '\\u018a', '\\u0500', '\\u0501', '\\u0502', '\\u0503'],\n    e: ['\\u00cb', '\\u0115', '\\u018e', '\\u0258', '\\u03a3', '\\u03be', '\\u04bc',\n      '\\u0a6c'],\n    f: ['\\u04fa'],\n    g: ['\\u0262'],\n    h: ['\\u0126', '\\u0195', '\\u04a2', '\\u04ba', '\\u04c7', '\\u050a'],\n    i: ['\\u0f0f'],\n    j: ['\\u0134'],\n    k: ['\\u0138', '\\u04a0', '\\u04c3', '\\u051e'],\n    l: ['\\u0139'],\n    m: ['\\u028d', '\\u04cd', '\\u04ce', '\\u0520', '\\u0521', '\\u0d69'],\n    n: ['\\u00d1', '\\u014b', '\\u019d', '\\u0376', '\\u03a0', '\\u048a'],\n    o: ['\\u00d8', '\\u00f5', '\\u00f8', '\\u01fe', '\\u0298', '\\u047a', '\\u05dd',\n      '\\u06dd', '\\u0e4f'],\n    p: ['\\u01f7', '\\u048e'],\n    q: ['\\u09cd'],\n    r: ['\\u00ae', '\\u01a6', '\\u0210', '\\u024c', '\\u0280', '\\u042f'],\n    s: ['\\u00a7', '\\u03de', '\\u03df', '\\u03e8'],\n    t: ['\\u0141', '\\u0166', '\\u0373'],\n    u: ['\\u01b1', '\\u054d'],\n    v: ['\\u05d8'],\n    w: ['\\u0428', '\\u0460', '\\u047c', '\\u0d70'],\n    x: ['\\u04b2', '\\u04fe', '\\u04fc', '\\u04fd'],\n    y: ['\\u00a5', '\\u04b0', '\\u04cb'],\n    z: ['\\u01b5', '\\u0240'],\n  };\n  text.forEach(function(c) {\n    c = c.toLowerCase();\n    var chars = trap[c] || [' '];\n    var rand = Math.floor(Math.random() * chars.length);\n    if (typeof trap[c] !== 'undefined') {\n      result += trap[c][rand];\n    } else {\n      result += c;\n    }\n  });\n  return result;\n};\n","// please no\nmodule['exports'] = function zalgo(text, options) {\n  text = text || '   he is here   ';\n  var soul = {\n    'up': [\n      '̍', '̎', '̄', '̅',\n      '̿', '̑', '̆', '̐',\n      '͒', '͗', '͑', '̇',\n      '̈', '̊', '͂', '̓',\n      '̈', '͊', '͋', '͌',\n      '̃', '̂', '̌', '͐',\n      '̀', '́', '̋', '̏',\n      '̒', '̓', '̔', '̽',\n      '̉', 'ͣ', 'ͤ', 'ͥ',\n      'ͦ', 'ͧ', 'ͨ', 'ͩ',\n      'ͪ', 'ͫ', 'ͬ', 'ͭ',\n      'ͮ', 'ͯ', '̾', '͛',\n      '͆', '̚',\n    ],\n    'down': [\n      '̖', '̗', '̘', '̙',\n      '̜', '̝', '̞', '̟',\n      '̠', '̤', '̥', '̦',\n      '̩', '̪', '̫', '̬',\n      '̭', '̮', '̯', '̰',\n      '̱', '̲', '̳', '̹',\n      '̺', '̻', '̼', 'ͅ',\n      '͇', '͈', '͉', '͍',\n      '͎', '͓', '͔', '͕',\n      '͖', '͙', '͚', '̣',\n    ],\n    'mid': [\n      '̕', '̛', '̀', '́',\n      '͘', '̡', '̢', '̧',\n      '̨', '̴', '̵', '̶',\n      '͜', '͝', '͞',\n      '͟', '͠', '͢', '̸',\n      '̷', '͡', ' ҉',\n    ],\n  };\n  var all = [].concat(soul.up, soul.down, soul.mid);\n\n  function randomNumber(range) {\n    var r = Math.floor(Math.random() * range);\n    return r;\n  }\n\n  function isChar(character) {\n    var bool = false;\n    all.filter(function(i) {\n      bool = (i === character);\n    });\n    return bool;\n  }\n\n\n  function heComes(text, options) {\n    var result = '';\n    var counts;\n    var l;\n    options = options || {};\n    options['up'] =\n      typeof options['up'] !== 'undefined' ? options['up'] : true;\n    options['mid'] =\n      typeof options['mid'] !== 'undefined' ? options['mid'] : true;\n    options['down'] =\n      typeof options['down'] !== 'undefined' ? options['down'] : true;\n    options['size'] =\n      typeof options['size'] !== 'undefined' ? options['size'] : 'maxi';\n    text = text.split('');\n    for (l in text) {\n      if (isChar(l)) {\n        continue;\n      }\n      result = result + text[l];\n      counts = {'up': 0, 'down': 0, 'mid': 0};\n      switch (options.size) {\n        case 'mini':\n          counts.up = randomNumber(8);\n          counts.mid = randomNumber(2);\n          counts.down = randomNumber(8);\n          break;\n        case 'maxi':\n          counts.up = randomNumber(16) + 3;\n          counts.mid = randomNumber(4) + 1;\n          counts.down = randomNumber(64) + 3;\n          break;\n        default:\n          counts.up = randomNumber(8) + 1;\n          counts.mid = randomNumber(6) / 2;\n          counts.down = randomNumber(8) + 1;\n          break;\n      }\n\n      var arr = ['up', 'mid', 'down'];\n      for (var d in arr) {\n        var index = arr[d];\n        for (var i = 0; i <= counts[index]; i++) {\n          if (options[index]) {\n            result = result + soul[index][randomNumber(soul[index].length)];\n          }\n        }\n      }\n    }\n    return result;\n  }\n  // don't summon him\n  return heComes(text, options);\n};\n\n","module['exports'] = function(colors) {\n  return function(letter, i, exploded) {\n    if (letter === ' ') return letter;\n    switch (i%3) {\n      case 0: return colors.red(letter);\n      case 1: return colors.white(letter);\n      case 2: return colors.blue(letter);\n    }\n  };\n};\n","module['exports'] = function(colors) {\n  return function(letter, i, exploded) {\n    return i % 2 === 0 ? letter : colors.inverse(letter);\n  };\n};\n","module['exports'] = function(colors) {\n  // RoY G BiV\n  var rainbowColors = ['red', 'yellow', 'green', 'blue', 'magenta'];\n  return function(letter, i, exploded) {\n    if (letter === ' ') {\n      return letter;\n    } else {\n      return colors[rainbowColors[i++ % rainbowColors.length]](letter);\n    }\n  };\n};\n\n","module['exports'] = function(colors) {\n  var available = ['underline', 'inverse', 'grey', 'yellow', 'red', 'green',\n    'blue', 'white', 'cyan', 'magenta', 'brightYellow', 'brightRed',\n    'brightGreen', 'brightBlue', 'brightWhite', 'brightCyan', 'brightMagenta'];\n  return function(letter, i, exploded) {\n    return letter === ' ' ? letter :\n      colors[\n          available[Math.round(Math.random() * (available.length - 2))]\n      ](letter);\n  };\n};\n","/*\n\nThe MIT License (MIT)\n\nOriginal Library\n  - Copyright (c) Marak Squires\n\nAdditional functionality\n - Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nvar colors = {};\nmodule['exports'] = colors;\n\ncolors.themes = {};\n\nvar util = require('util');\nvar ansiStyles = colors.styles = require('./styles');\nvar defineProps = Object.defineProperties;\nvar newLineRegex = new RegExp(/[\\r\\n]+/g);\n\ncolors.supportsColor = require('./system/supports-colors').supportsColor;\n\nif (typeof colors.enabled === 'undefined') {\n  colors.enabled = colors.supportsColor() !== false;\n}\n\ncolors.enable = function() {\n  colors.enabled = true;\n};\n\ncolors.disable = function() {\n  colors.enabled = false;\n};\n\ncolors.stripColors = colors.strip = function(str) {\n  return ('' + str).replace(/\\x1B\\[\\d+m/g, '');\n};\n\n// eslint-disable-next-line no-unused-vars\nvar stylize = colors.stylize = function stylize(str, style) {\n  if (!colors.enabled) {\n    return str+'';\n  }\n\n  var styleMap = ansiStyles[style];\n\n  // Stylize should work for non-ANSI styles, too\n  if(!styleMap && style in colors){\n    // Style maps like trap operate as functions on strings;\n    // they don't have properties like open or close.\n    return colors[style](str);\n  }\n\n  return styleMap.open + str + styleMap.close;\n};\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\nvar escapeStringRegexp = function(str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n  return str.replace(matchOperatorsRe, '\\\\$&');\n};\n\nfunction build(_styles) {\n  var builder = function builder() {\n    return applyStyle.apply(builder, arguments);\n  };\n  builder._styles = _styles;\n  // __proto__ is used because we must return a function, but there is\n  // no way to create a function with a different prototype.\n  builder.__proto__ = proto;\n  return builder;\n}\n\nvar styles = (function() {\n  var ret = {};\n  ansiStyles.grey = ansiStyles.gray;\n  Object.keys(ansiStyles).forEach(function(key) {\n    ansiStyles[key].closeRe =\n      new RegExp(escapeStringRegexp(ansiStyles[key].close), 'g');\n    ret[key] = {\n      get: function() {\n        return build(this._styles.concat(key));\n      },\n    };\n  });\n  return ret;\n})();\n\nvar proto = defineProps(function colors() {}, styles);\n\nfunction applyStyle() {\n  var args = Array.prototype.slice.call(arguments);\n\n  var str = args.map(function(arg) {\n    // Use weak equality check so we can colorize null/undefined in safe mode\n    if (arg != null && arg.constructor === String) {\n      return arg;\n    } else {\n      return util.inspect(arg);\n    }\n  }).join(' ');\n\n  if (!colors.enabled || !str) {\n    return str;\n  }\n\n  var newLinesPresent = str.indexOf('\\n') != -1;\n\n  var nestedStyles = this._styles;\n\n  var i = nestedStyles.length;\n  while (i--) {\n    var code = ansiStyles[nestedStyles[i]];\n    str = code.open + str.replace(code.closeRe, code.open) + code.close;\n    if (newLinesPresent) {\n      str = str.replace(newLineRegex, function(match) {\n        return code.close + match + code.open;\n      });\n    }\n  }\n\n  return str;\n}\n\ncolors.setTheme = function(theme) {\n  if (typeof theme === 'string') {\n    console.log('colors.setTheme now only accepts an object, not a string.  ' +\n      'If you are trying to set a theme from a file, it is now your (the ' +\n      'caller\\'s) responsibility to require the file.  The old syntax ' +\n      'looked like colors.setTheme(__dirname + ' +\n      '\\'/../themes/generic-logging.js\\'); The new syntax looks like '+\n      'colors.setTheme(require(__dirname + ' +\n      '\\'/../themes/generic-logging.js\\'));');\n    return;\n  }\n  for (var style in theme) {\n    (function(style) {\n      colors[style] = function(str) {\n        if (typeof theme[style] === 'object') {\n          var out = str;\n          for (var i in theme[style]) {\n            out = colors[theme[style][i]](out);\n          }\n          return out;\n        }\n        return colors[theme[style]](str);\n      };\n    })(style);\n  }\n};\n\nfunction init() {\n  var ret = {};\n  Object.keys(styles).forEach(function(name) {\n    ret[name] = {\n      get: function() {\n        return build([name]);\n      },\n    };\n  });\n  return ret;\n}\n\nvar sequencer = function sequencer(map, str) {\n  var exploded = str.split('');\n  exploded = exploded.map(map);\n  return exploded.join('');\n};\n\n// custom formatter methods\ncolors.trap = require('./custom/trap');\ncolors.zalgo = require('./custom/zalgo');\n\n// maps\ncolors.maps = {};\ncolors.maps.america = require('./maps/america')(colors);\ncolors.maps.zebra = require('./maps/zebra')(colors);\ncolors.maps.rainbow = require('./maps/rainbow')(colors);\ncolors.maps.random = require('./maps/random')(colors);\n\nfor (var map in colors.maps) {\n  (function(map) {\n    colors[map] = function(str) {\n      return sequencer(colors.maps[map], str);\n    };\n  })(map);\n}\n\ndefineProps(colors, init());\n","//\n// Remark: Requiring this file will use the \"safe\" colors API,\n// which will not touch String.prototype.\n//\n//   var colors = require('colors/safe');\n//   colors.red(\"foo\")\n//\n//\nvar colors = require('./lib/colors');\nmodule['exports'] = colors;\n","import colors from 'colors/safe'\n\nexport const EditframeErrorText = {\n  clientIdAndTokenRequired: `\\\\${colors.white('clientId')}\\\\ and \\\\${colors.white(\n    'token'\n  )}\\\\ must be provided to constructor`,\n}\n","import colors from 'colors/safe'\nexport const ValidationErrorText = {\n  INVALID_URL: (url: string): string => `\\\\${colors.white(url)}\\\\ is not valid url`,\n  MUST_BE_TYPE: (caller: string, fieldName: string, value: any, type: string): string =>\n    `\\n  \\\\${colors.white(fieldName)}\\\\ attribute in \\\\${colors.white(caller)}\\\\ must be of type \\\\${colors.white(\n      type\n    )}\\\\. Got: \\\\${colors.white(JSON.stringify(value))}\\\\`,\n  REQUIRED_FIELD: (name: string): string => `\\\\${colors.white(name)}\\\\ field is required`,\n  SUB_FIELD: (parent: string, child: string): string => `${parent}: { ${child} }`,\n}\n","import colors from 'colors/safe'\n\nexport const CompositionErrorText = {\n  dataRequired: `\\\\${colors.white('data')}\\\\ must be provided`,\n  dimensionsRequired: `\\\\${colors.white('dimensions')}\\\\ must be provided unless a \\\\${colors.white(\n    'videoFile'\n  )}\\\\ is provided`,\n  durationRequired: `\\\\${colors.white('duration')}\\\\ must be provided unless a \\\\${colors.white(\n    'videoFile'\n  )}\\\\ is provided`,\n  errorEncoding: (error: string): string => `Error encoding video: ${error}`,\n  filterRequired: `\\\\${colors.white('filter')}\\\\ must be provided`,\n  malformedEncodingResponse: `malformed ${colors.white('encoding')}\\\\ response`,\n  optionsRequired: `\\\\${colors.white('options')}\\\\ must be provided`,\n  textRequired: `\\\\${colors.white('text')}\\\\ field required`,\n  validationOptionsError: (errors: string): string => `Error: ${errors}`,\n}\n","export const MediaErrorText = {\n  invalidFileSource: 'Invalid file source provided',\n}\n","export const TextErrorText = {\n  invalidTextAlignment: (value: string): string => `Invalid text alignment: ${value}`,\n}\n","export const VisualMediaErrorText = {\n  invalidLayerFormat: (format: string): string => `Invalid layer format: ${format}`,\n}\n","export const VideoErrorText = {\n  all: (message: string): string => `Error getting videos: ${message}`,\n  get: (message: string): string => `Error getting video: ${message}`,\n  malformedResponse: 'malformed `videos` response',\n  new: (message: string): string => `Error creating new video: ${message}`,\n}\n","import camelCaseKeys from 'camelcase-keys'\nimport fetch from 'cross-fetch'\n\nimport {\n  ApiDataValidator,\n  ApiHeaderKey,\n  ApiHeaderValue,\n  ApiHeaders,\n  FetchFunction,\n  Fetcher,\n  MakeFetchFunction,\n  MimeType,\n} from 'constant'\nimport { ApiErrorText } from 'strings'\n\nimport { version } from '../../../package.json'\n\nexport const baseURL = (host: string, version: number): string => `${host}/v${version}`\n\nexport const initializeFetchUtil = (baseUrl: string): FetchFunction => makeRequest(makeFetcher(baseUrl))\n\nconst makeFetcher =\n  (baseUrl: string): Fetcher =>\n  (options) =>\n    options.url.startsWith('/') ? fetch(`${baseUrl}${options.url}`, options) : fetch(options.url, options)\n\nexport const makeRequest: MakeFetchFunction =\n  (fetcher) =>\n  async ({ data, headers, method, url }) => {\n    const response = await fetcher({ body: data, headers, method, url })\n\n    if (!response.ok) {\n      throw new Error(ApiErrorText.requestUnsuccessful(response.url, response.statusText))\n    }\n\n    const json = await response.json()\n    const camelCasedJson = camelCaseKeys(json, { deep: true })\n\n    if (camelCasedJson.data) {\n      return camelCasedJson.data\n    }\n\n    return camelCasedJson\n  }\n\nexport const makeHeaders = ({\n  clientId,\n  isForm = false,\n  token,\n}: {\n  clientId: string\n  isForm?: boolean\n  token: string\n}): ApiHeaders => {\n  const headers: ApiHeaders = {\n    [ApiHeaderKey.userAgent]: `${ApiHeaderValue.editframeJs}${version}`,\n    [ApiHeaderKey.editframeClientId]: clientId,\n    [ApiHeaderKey.authorization]: `${ApiHeaderValue.bearer}${token}`,\n  }\n\n  if (isForm) {\n    headers[ApiHeaderKey.accept] = MimeType.json\n    headers[ApiHeaderKey.xRequestedWith] = ApiHeaderValue.xRequestedWithXML\n  } else {\n    headers[ApiHeaderKey.contentType] = MimeType.json\n  }\n\n  return headers\n}\n\nexport const validateApiData = <DataType>(data: unknown, validator: ApiDataValidator<DataType>): DataType => {\n  if (data && validator.validate(data)) {\n    return data\n  }\n\n  throw new Error(validator.invalidDataError)\n}\n","import { ApiApplication, ApiApplicationAttribute } from 'constant'\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const isApplication = (application: any): application is ApiApplication =>\n  ApiApplicationAttribute.description in application &&\n  ApiApplicationAttribute.lastUsedAt in application &&\n  ApiApplicationAttribute.name in application &&\n  ApiApplicationAttribute.webhook in application\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const isApplications = (applications: any): applications is ApiApplication[] => isApplication(applications[0])\n","import colors from 'colors/safe'\n\nexport const logError = (message: string): void => console.error(colors.yellow(message))\n","import { v4 as uuidv4 } from \"uuid\";\n\nexport const uuid = (): string => uuidv4().slice(0, 6);\n","import { fetch } from 'cross-fetch'\nimport fs, { createWriteStream, existsSync, mkdirSync, rmdirSync } from 'fs'\nimport { Readable } from 'stream'\n\nimport { FetchResponse } from 'constant'\nimport { uuid } from 'utils/strings'\n\nexport const createDirectory = (directory: string): void => {\n  if (!existsSync(directory)) {\n    mkdirSync(directory, { recursive: true })\n  }\n}\n\nexport const createReadStream = (path: string): Readable => fs.createReadStream(path)\n\nexport const downloadFile = async (\n  url: string\n): Promise<{ temporaryFileDirectory: string; temporaryFilePath: string }> => {\n  const temporaryFileDirectory = `./tmp/${uuid()}`\n  const temporaryFilePath = `${temporaryFileDirectory}/${uuid()}`\n\n  createDirectory(temporaryFileDirectory)\n\n  const res = (await fetch(url)) as FetchResponse\n  const fileStream = createWriteStream(temporaryFilePath)\n\n  await new Promise((resolve, reject) => {\n    res.body.pipe(fileStream)\n    res.body.on('error', reject)\n    fileStream.on('finish', resolve)\n  })\n\n  return { temporaryFileDirectory, temporaryFilePath }\n}\n\nexport const removeDirectory = (directory: string): void => {\n  if (existsSync(directory)) {\n    rmdirSync(directory, { recursive: true })\n  }\n}\n","import FormData from 'form-data'\n\nimport { CompositionFile, PrimitiveType } from 'constant'\n\nexport const prepareFormData = (dataToAppend: [string, any][]): FormData => {\n  const formData = new FormData()\n\n  dataToAppend.forEach((dataTuple) => {\n    formData.append(dataTuple[0], dataTuple[1])\n  })\n\n  return formData\n}\n\nexport const urlOrFile = (eitherBlobOrString: CompositionFile): 'url' | 'file' =>\n  typeof eitherBlobOrString === PrimitiveType.string ? 'url' : 'file'\n","import { compile } from \"path-to-regexp\";\n\nconst compilePath = (path: string): ((params: any, options: any) => string) =>\n  compile(path);\n\n// This function is copied from react-router-dom\nexport const generatePath = (path = \"/\", params = {}): string =>\n  path === \"/\" ? path : compilePath(path)(params, { pretty: true });\n","import { ValidationErrorText } from 'strings'\nimport { logError } from 'utils/errors'\n\nexport const isValidUrl = (url: string): boolean => {\n  try {\n    validateURL(url)\n\n    return true\n  } catch (error) {\n    return false\n  }\n}\n\nexport const validateURL = (url: string): void => {\n  try {\n    new URL(url)\n  } catch (error) {\n    throw new TypeError(ValidationErrorText.INVALID_URL(url))\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const validatePresenceOf = (value: any, errorMessage: string): void => {\n  if (!value) {\n    throw new Error(errorMessage)\n  }\n}\n\nexport const validateValueIsOfType = (\n  caller: string,\n  fieldName: string,\n  value: number | string | Record<string, any> | undefined,\n  type: string,\n  shouldThrow = false\n): string | undefined => {\n  if (value && typeof value !== type) {\n    const message = ValidationErrorText.MUST_BE_TYPE(caller, fieldName, value, type)\n\n    if (shouldThrow) {\n      throw new TypeError(message)\n    } else {\n      return message\n    }\n  }\n\n  return undefined\n}\nexport const withValidation = <T>(validate: () => void, callback?: () => T | undefined): T => {\n  try {\n    validate()\n\n    if (callback) {\n      return callback()\n    }\n\n    return undefined\n  } catch ({ name, stack }) {\n    logError(stack)\n\n    return undefined\n  }\n}\n","import {\n  FilterBrightness,\n  FilterContrast,\n  FilterFadeIn,\n  FilterName,\n  FilterOptionKey,\n  FilterSaturation,\n} from '@editframe/shared-types'\n\nimport { Filter, FilterAttribute, FilterOptionTypes } from 'constant'\nimport { ValidationErrorText } from 'strings'\n\nconst isFilterBrightness = (options: any): options is FilterBrightness =>\n  options && Object.keys(options).length === 1 && FilterOptionKey.brightness in options\n\nconst isFilterContrast = (options: any): options is FilterContrast =>\n  options && Object.keys(options).length === 1 && FilterOptionKey.contrast in options\n\nconst isFilterFadeIn = (options: any): options is FilterFadeIn =>\n  options &&\n  Object.keys(options).length === 2 &&\n  FilterOptionKey.color in options &&\n  FilterOptionKey.duration in options\n\nconst isFilterSaturation = (options: any): options is FilterSaturation =>\n  options && Object.keys(options).length === 1 && FilterOptionKey.saturation in options\n\nconst filterValidators = {\n  [FilterName.brightness]: isFilterBrightness,\n  [FilterName.contrast]: isFilterContrast,\n  [FilterName.fadeIn]: isFilterFadeIn,\n  [FilterName.saturation]: isFilterSaturation,\n}\n\nexport const validateFilter = (\n  callerName: string,\n  fieldName: string,\n  { filterName, options }: Filter,\n  shouldThrow = false\n): string[] => {\n  const errors = []\n\n  const isFilterNameValid = Object.values(FilterName).includes(filterName)\n\n  if (!isFilterNameValid) {\n    const message = ValidationErrorText.MUST_BE_TYPE(\n      callerName,\n      ValidationErrorText.SUB_FIELD(fieldName, FilterAttribute.filterName),\n      filterName,\n      `${Object.values(FilterName).join(', ')}`\n    )\n\n    if (shouldThrow) {\n      throw new TypeError(message)\n    } else {\n      errors.push(message)\n    }\n  }\n\n  if (isFilterNameValid && filterName in FilterOptionTypes && !filterValidators[filterName](options)) {\n    const message = ValidationErrorText.MUST_BE_TYPE(\n      callerName,\n      ValidationErrorText.SUB_FIELD(fieldName, FilterAttribute.options),\n      options,\n      JSON.stringify(FilterOptionTypes[filterName])\n    )\n\n    if (shouldThrow) {\n      throw new TypeError(message)\n    } else {\n      errors.push(message)\n    }\n  }\n\n  return errors\n}\n","import {\n  AudioLayer,\n  FilterLayer,\n  LayerAlignment,\n  LayerAttribute,\n  LayerBase,\n  LayerHorizontalAlignment,\n  LayerHorizontalAlignmentValue,\n  LayerLottie,\n  LayerText,\n  LayerTrim,\n  LayerVerticalAlignmentValue,\n  LayerVisualMedia,\n  PrimitiveType,\n} from 'constant'\nimport { ValidationErrorText } from 'strings'\nimport { validateValueIsOfType } from 'utils/validation'\nimport { validateFilter } from 'utils/video/filters'\n\nconst filterUndefined = (maybeUndefined: unknown) => maybeUndefined !== undefined\n\nexport const validateLayerBase = (callerName: string, { length, start }: LayerBase): string[] => {\n  const errors: string[] = []\n\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.start, start, PrimitiveType.number))\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.length, length, PrimitiveType.number))\n\n  return errors.filter(filterUndefined)\n}\n\nexport const validateLayerLottie = (callerName: string, { data }: LayerLottie): string[] => {\n  const errors: string[] = []\n\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.data, data, PrimitiveType.object))\n\n  return errors.filter(filterUndefined)\n}\n\nexport const validateLayerFilter = (callerName: string, { filter }: FilterLayer): string[] => {\n  const errors: string[] = []\n\n  validateFilter(callerName, LayerAttribute.filter, filter).forEach((error) => errors.push(error))\n\n  return errors.filter(filterUndefined)\n}\n\nexport const validateLayerTrim = (callerName: string, { trim }: LayerTrim): string[] => {\n  const errors: string[] = []\n\n  errors.push(\n    validateValueIsOfType(\n      callerName,\n      ValidationErrorText.SUB_FIELD(LayerAttribute.trim, LayerAttribute.start),\n      trim?.start,\n      PrimitiveType.number\n    )\n  )\n\n  errors.push(\n    validateValueIsOfType(\n      callerName,\n      ValidationErrorText.SUB_FIELD(LayerAttribute.trim, LayerAttribute.end),\n      trim?.end,\n      PrimitiveType.number\n    )\n  )\n\n  return errors.filter(filterUndefined)\n}\n\nexport const validateLayerVisualMedia = (\n  callerName: string,\n  { backgroundColor, color, x, y }: LayerVisualMedia\n): string[] => {\n  const errors: string[] = []\n\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.backgroundColor, backgroundColor, PrimitiveType.string))\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.color, color, PrimitiveType.string))\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.x, x, PrimitiveType.number))\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.y, y, PrimitiveType.number))\n\n  return errors.filter(filterUndefined)\n}\n\nexport const validateLayerAudio = (callerName: string, options: AudioLayer): string[] => {\n  const errors: string[] = []\n\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.volume, options.volume, PrimitiveType.number))\n\n  return errors.filter(filterUndefined)\n}\n\nexport const validateHorizontalAlignment = (\n  callerName: string,\n  layerAttribute: string,\n  horizontalAlignment: LayerHorizontalAlignment\n): string | undefined => {\n  const acceptedHorizontalValues = Object.values(LayerHorizontalAlignmentValue)\n\n  if (horizontalAlignment && !acceptedHorizontalValues.includes(horizontalAlignment)) {\n    return ValidationErrorText.MUST_BE_TYPE(\n      callerName,\n      layerAttribute,\n      horizontalAlignment,\n      acceptedHorizontalValues.join(', ')\n    )\n  }\n\n  return undefined\n}\n\nexport const validateLayerAlignment = (\n  callerName: string,\n  { horizontalAlignment, verticalAlignment }: LayerAlignment\n): string[] => {\n  const errors: string[] = []\n  const acceptedVerticalValues = Object.values(LayerVerticalAlignmentValue)\n\n  errors.push(validateHorizontalAlignment(callerName, LayerAttribute.horizontalAlignment, horizontalAlignment))\n\n  if (verticalAlignment && !acceptedVerticalValues.includes(verticalAlignment)) {\n    errors.push(\n      ValidationErrorText.MUST_BE_TYPE(\n        callerName,\n        LayerAttribute.verticalAlignment,\n        verticalAlignment,\n        acceptedVerticalValues.join(', ')\n      )\n    )\n  }\n\n  return errors.filter(filterUndefined)\n}\n\nexport const validateLayerText = (\n  callerName: string,\n  { fontFamily, fontSize, maxFontSize, maxHeight, maxWidth, text, textAlignment }: LayerText\n): string[] => {\n  const errors: string[] = []\n\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.fontFamily, fontFamily, PrimitiveType.string))\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.fontSize, fontSize, PrimitiveType.number))\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.maxFontSize, maxFontSize, PrimitiveType.number))\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.maxHeight, maxHeight, PrimitiveType.number))\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.maxWidth, maxWidth, PrimitiveType.number))\n  errors.push(validateValueIsOfType(callerName, LayerAttribute.text, text, PrimitiveType.string))\n  errors.push(validateHorizontalAlignment(callerName, LayerAttribute.textAlignment, textAlignment))\n\n  return errors.filter(filterUndefined)\n}\n","import {\n  ApiVideoMethod,\n  AudioLayer,\n  CompositionFile,\n  CompositionMethod,\n  CompositionOptionAttribute,\n  CompositionOptions,\n  FilterLayer,\n  ImageLayer,\n  LayerAttribute,\n  LayerValidator,\n  LottieLayer,\n  PrimitiveType,\n  TextLayer,\n  VideoLayer,\n  VideoOptions,\n  WaveformLayer,\n} from 'constant'\nimport { CompositionErrorText, ValidationErrorText } from 'strings'\nimport { urlOrFile } from 'utils/forms'\nimport { validatePresenceOf, validateValueIsOfType } from 'utils/validation'\nimport {\n  validateLayerAlignment,\n  validateLayerAudio,\n  validateLayerBase,\n  validateLayerFilter,\n  validateLayerLottie,\n  validateLayerText,\n  validateLayerTrim,\n  validateLayerVisualMedia,\n} from 'utils/video/layers'\n\nexport const formDataKey = (file: CompositionFile, id: string): string => `${urlOrFile(file)}${id}`\n\nexport const validateVideoOptions = ({ backgroundColor, dimensions, duration }: VideoOptions): void => {\n  const errors: string[] = []\n\n  errors.push(\n    validateValueIsOfType(\n      ApiVideoMethod.new,\n      ValidationErrorText.SUB_FIELD(CompositionOptionAttribute.dimensions, LayerAttribute.height),\n      dimensions.height,\n      PrimitiveType.number\n    )\n  )\n\n  errors.push(\n    validateValueIsOfType(\n      ApiVideoMethod.new,\n      ValidationErrorText.SUB_FIELD(CompositionOptionAttribute.dimensions, LayerAttribute.width),\n      dimensions.width,\n      PrimitiveType.number\n    )\n  )\n\n  errors.push(\n    validateValueIsOfType(ApiVideoMethod.new, CompositionOptionAttribute.duration, duration, PrimitiveType.number)\n  )\n\n  errors.push(\n    validateValueIsOfType(\n      ApiVideoMethod.new,\n      CompositionOptionAttribute.backgroundColor,\n      backgroundColor,\n      PrimitiveType.string\n    )\n  )\n\n  const filteredErrors = errors.filter((error) => error !== undefined)\n\n  if (filteredErrors.length) {\n    throw new TypeError(filteredErrors.join('\\n'))\n  }\n}\n\nexport const validateCompositionOptions = ({ backgroundColor, dimensions, duration }: CompositionOptions): void => {\n  const errors: string[] = []\n\n  validatePresenceOf(duration, CompositionErrorText.durationRequired)\n  validatePresenceOf(dimensions, CompositionErrorText.dimensionsRequired)\n\n  errors.push(\n    validateValueIsOfType(\n      ApiVideoMethod.new,\n      ValidationErrorText.SUB_FIELD(CompositionOptionAttribute.dimensions, LayerAttribute.height),\n      dimensions.height,\n      PrimitiveType.number\n    )\n  )\n\n  errors.push(\n    validateValueIsOfType(\n      ApiVideoMethod.new,\n      ValidationErrorText.SUB_FIELD(CompositionOptionAttribute.dimensions, LayerAttribute.width),\n      dimensions.width,\n      PrimitiveType.number\n    )\n  )\n\n  errors.push(\n    validateValueIsOfType(\n      ApiVideoMethod.new,\n      CompositionOptionAttribute.backgroundColor,\n      backgroundColor,\n      PrimitiveType.string\n    )\n  )\n\n  const filteredErrors = errors.filter((error) => error !== undefined)\n\n  if (filteredErrors.length) {\n    throw new TypeError(filteredErrors.join('\\n'))\n  }\n}\n\nexport const validateLayerMethod = (\n  validators: LayerValidator[],\n  callerName: string,\n  options: Record<string, any>\n): void => {\n  const errors = validators\n    .map((validate) => validate(callerName, options))\n    .flat()\n    .filter((error) => error !== undefined)\n\n  if (errors.length) {\n    throw new TypeError(`Validation Errors: ${errors.join('\\n')}`)\n  }\n}\n\nexport const validateAddAudio = (options: AudioLayer): void =>\n  validateLayerMethod([validateLayerBase, validateLayerTrim, validateLayerAudio], CompositionMethod.addAudio, options)\n\nexport const validateAddImage = (options: ImageLayer): void =>\n  validateLayerMethod([validateLayerBase, validateLayerVisualMedia], CompositionMethod.addImage, options)\n\nexport const validateAddLottie = (options: LottieLayer): void => {\n  validateLayerMethod(\n    [validateLayerBase, validateLayerVisualMedia, validateLayerLottie],\n    CompositionMethod.addLottie,\n    options\n  )\n}\n\nexport const validateAddText = (options: TextLayer): void =>\n  validateLayerMethod(\n    [validateLayerBase, validateLayerVisualMedia, validateLayerAlignment, validateLayerText],\n    CompositionMethod.addText,\n    options\n  )\n\nexport const validateAddVideo = (options: VideoLayer): void =>\n  validateLayerMethod(\n    [validateLayerBase, validateLayerTrim, validateLayerAudio, validateLayerVisualMedia],\n    CompositionMethod.addVideo,\n    options\n  )\n\nexport const validateAddFilter = (options: FilterLayer): void =>\n  validateLayerMethod([validateLayerBase, validateLayerFilter], CompositionMethod.addFilter, options)\n\nexport const validateAddWaveform = (options: WaveformLayer): void => {\n  validateLayerMethod([validateLayerBase, validateLayerVisualMedia], CompositionMethod.addWaveform, options)\n\n  const error = validateValueIsOfType(\n    CompositionMethod.addWaveform,\n    LayerAttribute.style,\n    options.style,\n    PrimitiveType.string\n  )\n\n  if (error) {\n    throw new Error(error)\n  }\n}\n","import {\n  ApiVideo,\n  ApiVideoAttribute,\n  ApiVideoMetadata,\n  ApiVideoMetadataAttribute,\n  CompositionFile,\n  EncodeResponse,\n  EncodeResponseAttribute,\n} from 'constant'\nimport { urlOrFile } from 'utils/forms'\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const isEncodeResponse = (encodeResponse: any): encodeResponse is EncodeResponse =>\n  EncodeResponseAttribute.id in encodeResponse &&\n  EncodeResponseAttribute.status in encodeResponse &&\n  EncodeResponseAttribute.timestamp in encodeResponse\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const isApiVideo = (video: any): video is ApiVideo =>\n  ApiVideoAttribute.isReady in video && ApiVideoAttribute.metadata in video && ApiVideoAttribute.timestamp in video\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const isApiVideos = (videos: any): videos is ApiVideo[] => isApiVideo(videos[0])\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const isApiVideoMetadata = (metadata: any): metadata is ApiVideoMetadata =>\n  ApiVideoMetadataAttribute.bitrate in metadata &&\n  ApiVideoMetadataAttribute.codec in metadata &&\n  ApiVideoMetadataAttribute.duration in metadata &&\n  ApiVideoMetadataAttribute.fps in metadata &&\n  ApiVideoMetadataAttribute.height in metadata &&\n  ApiVideoMetadataAttribute.size in metadata &&\n  ApiVideoMetadataAttribute.width in metadata\n\nexport const formDataKey = (file: CompositionFile, id: string): string => `${urlOrFile(file)}${id}`\n","import FormData from 'form-data'\n\nimport { ApiInterface, ApiOptions, FetchFunction, HTTPMethod } from 'constant'\nimport { makeHeaders } from 'utils'\n\nexport class Api implements ApiInterface {\n  private _options: ApiOptions\n  private _fetch: FetchFunction\n\n  constructor(options: ApiOptions) {\n    this._options = { ...options }\n    this._fetch = options.fetch\n  }\n\n  public async get({ url }: { url: string }): Promise<unknown> {\n    return await this._fetch({ headers: makeHeaders(this._options), url })\n  }\n\n  public async post({\n    data,\n    isForm = false,\n    url,\n  }: {\n    data: FormData | Record<string, any>\n    isForm: boolean\n    url: string\n  }): Promise<unknown> {\n    return await this._fetch({\n      data,\n      headers: makeHeaders({ ...this._options, isForm }),\n      method: HTTPMethod.post,\n      url,\n    })\n  }\n\n  public async put({\n    data,\n    isForm = false,\n    url,\n  }: {\n    data: FormData | Record<string, any>\n    isForm: boolean\n    url: string\n  }): Promise<unknown> {\n    return await this._fetch({\n      data,\n      headers: makeHeaders({ ...this._options, isForm }),\n      method: HTTPMethod.put,\n      url,\n    })\n  }\n}\n","import { ApiApplication, ApiInterface, Routes } from 'constant'\nimport { ApplicationErrorText } from 'strings'\nimport { generatePath, isApplication, isApplications, validateApiData } from 'utils'\n\nexport class Applications {\n  private _api: ApiInterface\n\n  constructor(api: ApiInterface) {\n    this._api = api\n  }\n\n  async all(): Promise<ApiApplication[]> {\n    try {\n      const data = await this._api.get({ url: Routes.applications.all })\n\n      return validateApiData<ApiApplication[]>(data, {\n        invalidDataError: ApplicationErrorText.malformedResponse,\n        validate: isApplications,\n      })\n    } catch (error) {\n      console.error(ApplicationErrorText.get(error.message))\n    }\n\n    return []\n  }\n\n  async get(id: string): Promise<ApiApplication | undefined> {\n    try {\n      const data = await this._api.get({ url: generatePath(Routes.applications.get, { id }) })\n\n      return validateApiData<ApiApplication>(data, {\n        invalidDataError: ApplicationErrorText.malformedResponse,\n        validate: isApplication,\n      })\n    } catch (error) {\n      console.error(ApplicationErrorText.get(error.message))\n    }\n\n    return undefined\n  }\n}\n","import { CompositionInterface, LayerAttribute, LayerAttributeValue, LayerMethod, PrimitiveType } from 'constant'\nimport { validateValueIsOfType, withValidation } from 'utils'\n\nexport class Layer {\n  protected _composition: CompositionInterface\n  private _id: string\n\n  constructor({ composition, id }: { composition: CompositionInterface; id: string }) {\n    this._composition = composition\n    this._id = id\n  }\n\n  get id(): string {\n    return this._id\n  }\n\n  public [LayerMethod.setStart](start?: number): this | void {\n    return withValidation<this>(\n      () => validateValueIsOfType(LayerMethod.setStart, LayerAttribute.start, start, PrimitiveType.number, true),\n      () => this._updateAttribute(LayerAttribute.start, start)\n    )\n  }\n\n  public [LayerMethod.setLength](length?: number): this | void {\n    return withValidation<this>(\n      () => validateValueIsOfType(LayerMethod.setLength, LayerAttribute.length, length, PrimitiveType.number, true),\n      () => this._updateAttribute(LayerAttribute.length, length)\n    )\n  }\n\n  _updateAttribute(layerAttribute: LayerAttribute, value: LayerAttributeValue): this {\n    this._composition.updateLayerAttribute(this._id, layerAttribute, value)\n\n    return this\n  }\n}\n","import { CompositionInterface, LayerAttribute, MediaMethod, PrimitiveType, Trim } from 'constant'\nimport { Layer } from 'features/videos/layer'\nimport { ValidationErrorText } from 'strings'\nimport { validatePresenceOf, validateValueIsOfType, withValidation } from 'utils'\n\nexport class Media extends Layer {\n  constructor({ composition, id }: { composition: CompositionInterface; id: string }) {\n    super({ composition, id })\n  }\n\n  [MediaMethod.setTrim]({ end, start }: Trim): this | void {\n    withValidation<this>(\n      () => {\n        validatePresenceOf(start, ValidationErrorText.REQUIRED_FIELD(LayerAttribute.start))\n        validateValueIsOfType(MediaMethod.setTrim, LayerAttribute.start, start, PrimitiveType.number, true)\n        validateValueIsOfType(MediaMethod.setTrim, LayerAttribute.end, end, PrimitiveType.number, true)\n      },\n      () => {\n        this._updateAttribute(LayerAttribute.start, start < 0 ? 0 : start)\n\n        if (end) {\n          this._updateAttribute(LayerAttribute.end, end)\n        }\n\n        return this\n      }\n    )\n  }\n}\n","import { AudioMethod, CompositionInterface, LayerAttribute, PrimitiveType } from 'constant'\nimport { Media } from 'features/videos/media'\nimport { ValidationErrorText } from 'strings'\nimport { validatePresenceOf, validateValueIsOfType, withValidation } from 'utils'\n\nexport class Audio extends Media {\n  constructor({ composition, id }: { composition: CompositionInterface; id: string }) {\n    super({ composition, id })\n  }\n\n  [AudioMethod.setVolume](volume: number): this | void {\n    return withValidation<this>(\n      () => {\n        validatePresenceOf(volume, ValidationErrorText.REQUIRED_FIELD(LayerAttribute.volume))\n        validateValueIsOfType(AudioMethod.setVolume, LayerAttribute.volume, volume, PrimitiveType.number, true)\n      },\n      () => {\n        let newVolume = volume\n\n        if (volume > 1) {\n          newVolume = 1\n        } else if (volume < 0) {\n          newVolume = 0\n        }\n\n        return this._updateAttribute(LayerAttribute.volume, newVolume)\n      }\n    )\n  }\n\n  [AudioMethod.setMuted](): this {\n    return this._updateAttribute(LayerAttribute.volume, 0)\n  }\n}\n","import { FilterOptions } from '@editframe/shared-types'\n\nimport { CompositionInterface, FilterMethod, LayerAttribute } from 'constant'\nimport { Layer } from 'features/videos/layer'\nimport { validateFilter, withValidation } from 'utils'\n\nexport class Filter extends Layer {\n  constructor({ composition, id }: { composition: CompositionInterface; id: string }) {\n    super({ composition, id })\n  }\n\n  public [FilterMethod.setFilter]<FilterName extends keyof FilterOptions>({\n    filterName,\n    options,\n  }: {\n    filterName: FilterName\n    options: FilterOptions[FilterName]\n  }): this | void {\n    return withValidation<this>(\n      () => validateFilter(FilterMethod.setFilter, LayerAttribute.filter, { filterName, options }, true),\n      () => this._updateAttribute(LayerAttribute.filter, { filterName, options })\n    )\n  }\n}\n","import { CompositionInterface, LayerAttribute, LayerFormat, PrimitiveType, VisualMediaMethod } from 'constant'\nimport { Media } from 'features/videos/media'\nimport { validateLayerFormat, validateValueIsOfType, withValidation } from 'utils'\n\nexport class VisualMedia extends Media {\n  constructor({ composition, id }: { composition: CompositionInterface; id: string }) {\n    super({ composition, id })\n  }\n\n  public [VisualMediaMethod.setBackgroundColor](backgroundColor?: string): this | void {\n    withValidation<this>(\n      () =>\n        validateValueIsOfType(\n          VisualMediaMethod.setBackgroundColor,\n          LayerAttribute.backgroundColor,\n          backgroundColor,\n          PrimitiveType.string,\n          true\n        ),\n      () => this._updateAttribute(LayerAttribute.backgroundColor, backgroundColor)\n    )\n  }\n\n  public [VisualMediaMethod.setColor](color?: string): this | void {\n    withValidation<this>(\n      () => validateValueIsOfType(VisualMediaMethod.setColor, LayerAttribute.color, color, PrimitiveType.string, true),\n      () => this._updateAttribute(LayerAttribute.color, color)\n    )\n  }\n\n  public [VisualMediaMethod.setFormat](format: LayerFormat): this | void {\n    withValidation<this>(\n      () => validateLayerFormat(format),\n      () => this._updateAttribute(LayerAttribute.format, format)\n    )\n  }\n\n  public [VisualMediaMethod.setHeight](height?: number): this | void {\n    withValidation<this>(\n      () =>\n        validateValueIsOfType(VisualMediaMethod.setHeight, LayerAttribute.height, height, PrimitiveType.number, true),\n      () => this._updateAttribute(LayerAttribute.height, height)\n    )\n  }\n\n  public [VisualMediaMethod.setWidth](width?: number): this | void {\n    withValidation<this>(\n      () => validateValueIsOfType(VisualMediaMethod.setWidth, LayerAttribute.width, width, PrimitiveType.number, true),\n      () => this._updateAttribute(LayerAttribute.width, width)\n    )\n  }\n\n  public [VisualMediaMethod.setX](x?: number): this | void {\n    withValidation<this>(\n      () => validateValueIsOfType(VisualMediaMethod.setX, LayerAttribute.x, x, PrimitiveType.number, true),\n      () => this._updateAttribute(LayerAttribute.x, x)\n    )\n  }\n\n  public [VisualMediaMethod.setY](y?: number): this | void {\n    withValidation<this>(\n      () => validateValueIsOfType(VisualMediaMethod.setY, LayerAttribute.y, y, PrimitiveType.number, true),\n      () => this._updateAttribute(LayerAttribute.y, y)\n    )\n  }\n}\n","import { LayerFormat, LayerFormatValue, LayerHorizontalAlignment, LayerHorizontalAlignmentValue } from 'constant'\nimport { TextErrorText, VisualMediaErrorText } from 'strings'\n\nexport const validateLayerFormat = (format: LayerFormat): void => {\n  if (!Object.values(LayerFormatValue).includes(format)) {\n    throw new TypeError(VisualMediaErrorText.invalidLayerFormat(format))\n  }\n}\n\nexport const validateTextAlignment = (textAlignment: LayerHorizontalAlignment): void => {\n  if (!Object.values(LayerHorizontalAlignmentValue).includes(textAlignment)) {\n    throw new TypeError(TextErrorText.invalidTextAlignment(textAlignment))\n  }\n}\n","import { CompositionInterface, LayerAttribute, LottieAnimationData, LottieMethod, PrimitiveType } from 'constant'\nimport { VisualMedia } from 'features/videos/visualMedia'\nimport { ValidationErrorText } from 'strings'\nimport { logError, validatePresenceOf, validateValueIsOfType } from 'utils'\n\nexport class Lottie extends VisualMedia {\n  constructor({ composition, id }: { composition: CompositionInterface; id: string }) {\n    super({ composition, id })\n  }\n\n  [LottieMethod.setAnimationData](data: LottieAnimationData): Lottie | void {\n    try {\n      validatePresenceOf(data, ValidationErrorText.REQUIRED_FIELD(LayerAttribute.data))\n      validateValueIsOfType(LottieMethod.setAnimationData, LayerAttribute.data, data, PrimitiveType.object)\n\n      return this._updateAttribute(LayerAttribute.data, data)\n    } catch ({ stack }) {\n      logError(stack)\n    }\n  }\n}\n","import { CompositionInterface, LayerAttribute, LayerHorizontalAlignment, PrimitiveType, TextMethod } from 'constant'\nimport { VisualMedia } from 'features/videos/visualMedia'\nimport { CompositionErrorText } from 'strings'\nimport { validatePresenceOf, validateTextAlignment, validateValueIsOfType, withValidation } from 'utils'\n\nexport class Text extends VisualMedia {\n  constructor({ composition, id }: { composition: CompositionInterface; id: string }) {\n    super({ composition, id })\n  }\n\n  public [TextMethod.setFontFamily](fontFamily?: string): this | void {\n    return withValidation<this>(\n      () =>\n        validateValueIsOfType(\n          TextMethod.setFontFamily,\n          LayerAttribute.fontFamily,\n          fontFamily,\n          PrimitiveType.string,\n          true\n        ),\n      () => this._updateAttribute(LayerAttribute.fontFamily, fontFamily)\n    )\n  }\n\n  public [TextMethod.setFontSize](fontSize?: number): this | void {\n    return withValidation<this>(\n      () =>\n        validateValueIsOfType(TextMethod.setFontSize, LayerAttribute.fontSize, fontSize, PrimitiveType.number, true),\n      () => this._updateAttribute(LayerAttribute.fontSize, fontSize)\n    )\n  }\n\n  public [TextMethod.setMaxFontSize](maxFontSize?: number): this | void {\n    withValidation<this>(\n      () =>\n        validateValueIsOfType(\n          TextMethod.setMaxFontSize,\n          LayerAttribute.maxFontSize,\n          maxFontSize,\n          PrimitiveType.number,\n          true\n        ),\n      () => this._updateAttribute(LayerAttribute.maxFontSize, maxFontSize)\n    )\n  }\n\n  public [TextMethod.setMaxHeight](maxHeight?: number): this | void {\n    withValidation<this>(\n      () =>\n        validateValueIsOfType(TextMethod.setMaxHeight, LayerAttribute.maxHeight, maxHeight, PrimitiveType.number, true),\n      () => this._updateAttribute(LayerAttribute.maxHeight, maxHeight)\n    )\n  }\n\n  public [TextMethod.setMaxWidth](maxWidth?: number): this | void {\n    withValidation<this>(\n      () =>\n        validateValueIsOfType(TextMethod.setMaxWidth, LayerAttribute.maxWidth, maxWidth, PrimitiveType.number, true),\n      () => this._updateAttribute(LayerAttribute.maxWidth, maxWidth)\n    )\n  }\n\n  public [TextMethod.setText](text: string): this | void {\n    withValidation<this>(\n      () => {\n        validatePresenceOf(text, CompositionErrorText.textRequired)\n        validateValueIsOfType(TextMethod.setText, LayerAttribute.text, text, PrimitiveType.string, true)\n      },\n      () => this._updateAttribute(LayerAttribute.text, text)\n    )\n  }\n\n  public [TextMethod.setTextAlignment](textAlignment?: LayerHorizontalAlignment): this | void {\n    withValidation<this>(\n      () => validateTextAlignment(textAlignment),\n      () => this._updateAttribute(LayerAttribute.textAlignment, textAlignment)\n    )\n  }\n}\n","import { FilterOptions } from '@editframe/shared-types'\nimport { Mixin } from 'ts-mixer'\n\nimport { CompositionInterface, LayerAttribute, Size, VideoMethod } from 'constant'\nimport { Audio } from 'features/videos/audio'\nimport { VisualMedia } from 'features/videos/visualMedia'\nimport { ValidationErrorText } from 'strings'\nimport { validateFilter, validatePresenceOf, withValidation } from 'utils'\n\nexport class Video extends Mixin(Audio, VisualMedia) {\n  constructor({ composition, id }: { composition: CompositionInterface; id: string }) {\n    super({ composition, id })\n  }\n\n  [VideoMethod.setDimensions]({ height, width }: Size): Video | void {\n    withValidation<Video>(\n      () => {\n        validatePresenceOf(height, ValidationErrorText.REQUIRED_FIELD(LayerAttribute.height))\n        validatePresenceOf(width, ValidationErrorText.REQUIRED_FIELD(LayerAttribute.width))\n      },\n      () => {\n        this._updateAttribute(LayerAttribute.height, height)\n\n        return this._updateAttribute(LayerAttribute.width, width)\n      }\n    )\n  }\n\n  [VideoMethod.setFilter]<FilterName extends keyof FilterOptions>({\n    filterName,\n    options,\n  }: {\n    filterName: FilterName\n    options?: FilterOptions[FilterName]\n  }): Video | void {\n    withValidation<Video>(\n      () => validateFilter(VideoMethod.setFilter, LayerAttribute.filter, { filterName, options }, true),\n      () =>\n        this._updateAttribute(LayerAttribute.filter, {\n          filterName,\n          options,\n        })\n    )\n  }\n}\n","import {\n  ApiInterface,\n  AudioLayer,\n  CompositionFile,\n  CompositionInterface,\n  CompositionMethod,\n  CompositionOptions,\n  EncodeResponse,\n  FilterLayer,\n  FormDataInterface,\n  IdentifiedLayer,\n  ImageLayer,\n  LayerAttribute,\n  LayerAttributeValue,\n  LayerType,\n  LottieLayer,\n  Metadata,\n  Routes,\n  Size,\n  TextLayer,\n  TypedLayer,\n  VideoLayer,\n  WaveformLayer,\n} from 'constant'\nimport { Audio } from 'features/videos/audio'\nimport { Filter } from 'features/videos/filter'\nimport { Lottie } from 'features/videos/lottie'\nimport { Text } from 'features/videos/text'\nimport { Video } from 'features/videos/video'\nimport { VisualMedia } from 'features/videos/visualMedia'\nimport { CompositionErrorText, MediaErrorText } from 'strings'\nimport {\n  formDataKey,\n  isEncodeResponse,\n  uuid,\n  validateAddAudio,\n  validateAddFilter,\n  validateAddImage,\n  validateAddLottie,\n  validateAddText,\n  validateAddVideo,\n  validateAddWaveform,\n  validateApiData,\n  validateCompositionOptions,\n  validatePresenceOf,\n  withValidation,\n} from 'utils'\n\nexport class Composition implements CompositionInterface {\n  private _api: ApiInterface\n  private _files: {\n    file: CompositionFile\n    id: string\n  }[]\n  private _formData: FormDataInterface\n  private _layers: IdentifiedLayer[] = []\n  private _options: CompositionOptions\n\n  constructor({\n    api,\n    formData,\n    options,\n  }: {\n    api: ApiInterface\n    formData: FormDataInterface\n    options: CompositionOptions\n  }) {\n    this._api = api\n    this._files = []\n    this._formData = formData\n    this._options = options\n\n    withValidation<void>(() => validateCompositionOptions(this._options))\n  }\n\n  get [CompositionMethod.backgroundColor](): string {\n    return this._options.backgroundColor\n  }\n\n  get [CompositionMethod.dimensions](): Size {\n    return this._options.dimensions\n  }\n\n  get [CompositionMethod.duration](): number {\n    return this._options.duration\n  }\n\n  get [CompositionMethod.metadata](): Metadata {\n    return this._options.metadata\n  }\n\n  get [CompositionMethod.layers](): IdentifiedLayer[] {\n    return this._layers\n  }\n\n  public [CompositionMethod.layer](id: string): IdentifiedLayer {\n    return this._layers.find((layer) => layer.id && layer.id === id)\n  }\n\n  public [CompositionMethod.addAudio](file: CompositionFile, options: AudioLayer = {}): Audio | undefined {\n    return withValidation<Audio>(\n      () => {\n        validatePresenceOf(file, MediaErrorText.invalidFileSource)\n        validatePresenceOf(options, CompositionErrorText.optionsRequired)\n        validateAddAudio(options)\n      },\n      () => {\n        const { id } = this._addLayer({ type: LayerType.audio, ...options })\n\n        this._files.push({ file, id })\n\n        return new Audio({ composition: this, id })\n      }\n    )\n  }\n\n  public [CompositionMethod.addFilter](options: FilterLayer): Filter | undefined {\n    return withValidation<Filter>(\n      () => {\n        validatePresenceOf(options, CompositionErrorText.optionsRequired)\n        validatePresenceOf(options.filter, CompositionErrorText.filterRequired)\n        validateAddFilter(options)\n      },\n      () => {\n        const { id } = this._addLayer({ ...options, type: LayerType.filter })\n\n        return new Filter({ composition: this, id })\n      }\n    )\n  }\n\n  public [CompositionMethod.addImage](file: CompositionFile, options: ImageLayer = {}): Video | undefined {\n    return withValidation<Video>(\n      () => {\n        validatePresenceOf(file, MediaErrorText.invalidFileSource)\n        validatePresenceOf(options, CompositionErrorText.optionsRequired)\n        validateAddImage(options)\n      },\n      () => {\n        const { id } = this._addLayer({ type: LayerType.image, ...options })\n\n        this._files.push({ file, id })\n\n        return new Video({ composition: this, id })\n      }\n    )\n  }\n\n  public [CompositionMethod.addLottie](options: LottieLayer): Lottie | undefined {\n    return withValidation<Lottie>(\n      () => {\n        validatePresenceOf(options, CompositionErrorText.optionsRequired)\n        validatePresenceOf(options.data, CompositionErrorText.dataRequired)\n        validateAddLottie(options)\n      },\n      () => {\n        const { id } = this._addLayer({ type: LayerType.lottie, ...options })\n\n        return new Lottie({ composition: this, id })\n      }\n    )\n  }\n\n  public [CompositionMethod.addText](options: TextLayer): Text | undefined {\n    return withValidation<Text>(\n      () => {\n        validatePresenceOf(options, CompositionErrorText.optionsRequired)\n        validatePresenceOf(options.text, CompositionErrorText.textRequired)\n        validateAddText(options)\n      },\n      () => {\n        const { id } = this._addLayer({ type: LayerType.text, ...options })\n\n        return new Text({ composition: this, id })\n      }\n    )\n  }\n\n  public [CompositionMethod.addVideo](file: CompositionFile, options: VideoLayer = {}): Video | undefined {\n    return withValidation<Video>(\n      () => {\n        validatePresenceOf(file, MediaErrorText.invalidFileSource)\n        validatePresenceOf(options, CompositionErrorText.optionsRequired)\n        validateAddVideo(options)\n      },\n      () => {\n        const { id } = this._addLayer({ type: LayerType.video, ...options })\n\n        this._files.push({ file, id })\n\n        return new Video({ composition: this, id })\n      }\n    )\n  }\n\n  public [CompositionMethod.addWaveform](options: WaveformLayer = {}): VisualMedia | undefined {\n    return withValidation<VisualMedia>(\n      () => {\n        validatePresenceOf(options, CompositionErrorText.optionsRequired)\n        validateAddWaveform(options)\n      },\n      () => {\n        const { id } = this._addLayer({ type: LayerType.waveform, ...options })\n\n        return new VisualMedia({ composition: this, id })\n      }\n    )\n  }\n\n  public async [CompositionMethod.encode](): Promise<EncodeResponse> {\n    this._generateConfig()\n\n    try {\n      const data = await this._api.post({ data: this._formData, isForm: true, url: Routes.videos.create })\n\n      return validateApiData<EncodeResponse>(data, {\n        invalidDataError: CompositionErrorText.malformedEncodingResponse,\n        validate: isEncodeResponse,\n      })\n    } catch (error) {\n      console.error(CompositionErrorText.errorEncoding(error.message))\n\n      return undefined\n    }\n  }\n\n  private _generateConfig(): void {\n    this._files.forEach(({ file, id }) => this._formData.append(formDataKey(file, id), file))\n    this._formData.append(\n      'config',\n      JSON.stringify({\n        ...this._options,\n        layers: this._layers,\n      })\n    )\n  }\n\n  private _addLayer(options: TypedLayer): IdentifiedLayer {\n    const newLayer: IdentifiedLayer = { id: uuid(), ...options }\n\n    this._layers.push(newLayer)\n\n    return newLayer\n  }\n\n  [CompositionMethod.updateLayerAttribute](\n    id: string,\n    layerAttribute: LayerAttribute,\n    value: LayerAttributeValue\n  ): void {\n    const newLayer = { ...this.layer(id) }\n\n    newLayer[layerAttribute] = value\n\n    this.setLayer(id, newLayer)\n  }\n\n  private [CompositionMethod.setLayer](id: string, newLayer: IdentifiedLayer): void {\n    const newLayers = [...this.layers]\n    const layerIndex = newLayers.findIndex((layer) => layer.id === id)\n\n    newLayers[layerIndex] = newLayer\n\n    this._layers = newLayers\n  }\n}\n","import FormData from 'form-data'\nimport { Readable } from 'stream'\n\nimport {\n  ApiInterface,\n  ApiVideo,\n  ApiVideoMetadata,\n  ApiVideoMetadataFormDataKey,\n  ApiVideoMetadataType,\n  ApiVideoMethod,\n  CompositionFile,\n  Routes,\n  VideoOptions,\n} from 'constant'\nimport { VideoErrorText } from 'strings'\nimport {\n  createReadStream,\n  downloadFile,\n  generatePath,\n  isApiVideo,\n  isApiVideoMetadata,\n  isApiVideos,\n  isValidUrl,\n  prepareFormData,\n  removeDirectory,\n  urlOrFile,\n  validateApiData,\n} from 'utils'\n\nimport { Composition } from './composition'\n\nexport class Videos {\n  private _api: ApiInterface\n\n  constructor(api: ApiInterface) {\n    this._api = api\n  }\n\n  public async [ApiVideoMethod.all](): Promise<ApiVideo[]> {\n    try {\n      const data = await this._api.get({ url: Routes.videos.all })\n\n      return validateApiData<ApiVideo[]>(data, {\n        invalidDataError: VideoErrorText.malformedResponse,\n        validate: isApiVideos,\n      })\n    } catch (error) {\n      console.error(VideoErrorText.all(error.message))\n    }\n\n    return []\n  }\n\n  public async [ApiVideoMethod.get](id: string): Promise<ApiVideo | undefined> {\n    try {\n      const data = await this._api.get({ url: generatePath(Routes.videos.get, { id }) })\n\n      return validateApiData<ApiVideo>(data, {\n        invalidDataError: VideoErrorText.malformedResponse,\n        validate: isApiVideo,\n      })\n    } catch (error) {\n      console.error(VideoErrorText.get(error.message))\n    }\n\n    return undefined\n  }\n\n  public async [ApiVideoMethod.new](options: VideoOptions, videoPath?: string): Promise<Composition> {\n    try {\n      let composition: Composition\n\n      if (videoPath) {\n        let metadataStream: Readable\n        let encodeStream: Readable\n        let tempFileDirectory: string\n\n        if (isValidUrl(videoPath)) {\n          const { temporaryFileDirectory, temporaryFilePath } = await downloadFile(videoPath)\n\n          tempFileDirectory = temporaryFileDirectory\n\n          metadataStream = createReadStream(temporaryFilePath)\n          encodeStream = createReadStream(temporaryFilePath)\n        } else {\n          metadataStream = createReadStream(videoPath)\n          encodeStream = createReadStream(videoPath)\n        }\n\n        const { duration, height, width } = await this._getMetadata(metadataStream)\n\n        composition = new Composition({\n          api: this._api,\n          formData: new FormData(),\n          options: { ...options, dimensions: { height, width }, duration },\n        })\n\n        composition.addVideo(encodeStream)\n        removeDirectory(tempFileDirectory)\n      } else {\n        const { backgroundColor, dimensions, duration, metadata } = options\n\n        composition = new Composition({\n          api: this._api,\n          formData: new FormData(),\n          options: {\n            backgroundColor,\n            dimensions,\n            duration,\n            metadata,\n          },\n        })\n      }\n\n      return composition\n    } catch (error) {\n      console.error(VideoErrorText.new(error.message))\n    }\n\n    return undefined\n  }\n\n  private async [ApiVideoMethod.getMetadata](videoFile: CompositionFile): Promise<ApiVideoMetadata> {\n    const formData = prepareFormData([\n      [urlOrFile(videoFile), videoFile],\n      [ApiVideoMetadataFormDataKey.type, ApiVideoMetadataType.video],\n    ])\n\n    const data = await this._api.post({ data: formData, isForm: true, url: Routes.metadata })\n\n    return validateApiData<ApiVideoMetadata>(data, {\n      invalidDataError: VideoErrorText.malformedResponse,\n      validate: isApiVideoMetadata,\n    })\n  }\n}\n","import { Api } from 'api'\nimport { EditframeOptions, defaultHost } from 'constant'\nimport { Applications, Videos } from 'features'\nimport { EditframeErrorText } from 'strings'\nimport { baseURL, initializeFetchUtil } from 'utils'\n\nexport class Editframe {\n  public applications: Applications\n  public videos: Videos\n  private _api: Api\n  private _clientId: string\n  private _host: string\n  private _token: string\n  private _version: number\n\n  constructor({ clientId, host = defaultHost, token, version = 2 }: EditframeOptions) {\n    if (!clientId || !token) {\n      throw new Error(EditframeErrorText.clientIdAndTokenRequired)\n    }\n\n    this._api = new Api({\n      clientId,\n      fetch: initializeFetchUtil(baseURL(host, version)),\n      host,\n      token,\n      version,\n    })\n    this._clientId = clientId\n    this._host = host\n    this._token = token\n    this._version = version\n    this.applications = new Applications(this._api)\n    this.videos = new Videos(this._api)\n  }\n\n  public get clientId(): string {\n    return this._clientId\n  }\n\n  public get host(): string {\n    return this._host\n  }\n\n  public get token(): string {\n    return this._token\n  }\n\n  public get version(): number {\n    return this._version\n  }\n}\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","ApiHeaderKey","ApiHeaderValue","HTTPMethod","ApiApplicationAttribute","PrimitiveType","MimeType","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","pop","push","AudioMethod","CompositionMethod","CompositionOptionAttribute","EncodeResponseAttribute","Routes","all","get","FilterName","FilterOptionKey","defineProperty","exports","FilterAttribute","FilterMethod","LayerMethod","LayerAttribute","LayerType","LayerHorizontalAlignmentValue","LayerVerticalAlignmentValue","LayerFormatValue","WaveformLayerStyleValue","WaveformStyle","LottieMethod","MediaMethod","TextMethod","VideoMethod","VisualMediaMethod","ApiVideoAttribute","ApiVideoMethod","ApiVideoMetadataAttribute","ApiVideoMetadataFormDataKey","ApiVideoMetadataType","FilterOptionTypes","brightness","number","_a","contrast","fadeIn","color","string","_d","duration","saturation","ApiErrorText","url","statusText","ApplicationErrorText","message","styles","module","codes","reset","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","cyan","white","gray","grey","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","bgGray","bgGrey","bgBrightRed","bgBrightGreen","bgBrightYellow","bgBrightBlue","bgBrightMagenta","bgBrightCyan","bgBrightWhite","blackBG","redBG","greenBG","yellowBG","blueBG","magentaBG","cyanBG","whiteBG","keys","forEach","key","val","style","open","close","flag","argv","terminatorPos","process","indexOf","prefix","test","pos","env","forceColor","getSupportLevel","stream","level","hasFlag","isTTY","min","platform","osRelease","os","release","split","Number","versions","node","some","sign","CI_NAME","TEAMCITY_VERSION","version","parseInt","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","supportsColor","hasBasic","has256","has16m","translateLevel","FORCE_COLOR","stdout","stderr","text","options","trap","a","c","h","j","k","l","m","o","q","r","u","w","x","z","toLowerCase","chars","rand","Math","floor","random","soul","up","down","mid","concat","randomNumber","range","isChar","character","bool","filter","counts","size","arr","index","heComes","colors","letter","exploded","rainbowColors","available","round","themes","ansiStyles","require$$0","defineProps","defineProperties","newLineRegex","RegExp","require$$1","enabled","enable","disable","stripColors","strip","str","replace","stylize","styleMap","matchOperatorsRe","build","_styles","builder","applyStyle","proto","ret","closeRe","escapeStringRegexp","args","slice","map","arg","util","inspect","join","newLinesPresent","nestedStyles","code","match","setTheme","theme","out","console","log","sequencer","require$$2","zalgo","require$$3","maps","america","require$$4","zebra","require$$5","rainbow","require$$6","require$$7","name","init","EditframeErrorText","clientIdAndTokenRequired","ValidationErrorText","caller","fieldName","type","JSON","stringify","parent","child","CompositionErrorText","dataRequired","dimensionsRequired","durationRequired","errorEncoding","error","filterRequired","malformedEncodingResponse","optionsRequired","textRequired","validationOptionsError","errors","MediaErrorText","TextErrorText","VisualMediaErrorText","format","VideoErrorText","baseURL","host","makeFetcher","baseUrl","startsWith","fetch","makeRequest","fetcher","data","headers","method","response","_b","ok","Error","json","camelCasedJson","camelCaseKeys","deep","makeHeaders","clientId","_c","isForm","token","userAgent","editframeJs","editframeClientId","authorization","bearer","accept","xRequestedWith","xRequestedWithXML","contentType","validateApiData","validator","validate","invalidDataError","isApplication","application","description","lastUsedAt","webhook","isApplications","applications","logError","uuid","uuidv4","createReadStream","path","fs","downloadFile","temporaryFileDirectory","temporaryFilePath","directory","existsSync","mkdirSync","recursive","res","fileStream","createWriteStream","pipe","on","urlOrFile","eitherBlobOrString","generatePath","params","compile","compilePath","pretty","validateURL","URL","validatePresenceOf","errorMessage","validateValueIsOfType","shouldThrow","withValidation","callback","stack","filterValidators","validateFilter","callerName","filterName","isFilterNameValid","values","includes","filterUndefined","maybeUndefined","undefined","validateLayerBase","start","validateLayerLottie","object","validateLayerFilter","validateLayerTrim","trim","end","validateLayerVisualMedia","backgroundColor","validateLayerAudio","volume","validateHorizontalAlignment","layerAttribute","horizontalAlignment","acceptedHorizontalValues","validateLayerAlignment","verticalAlignment","acceptedVerticalValues","validateLayerText","fontFamily","fontSize","maxFontSize","maxHeight","maxWidth","textAlignment","validateLayerMethod","validators","flat","isEncodeResponse","encodeResponse","id","status","timestamp","isApiVideo","video","isReady","metadata","isApiVideos","videos","isApiVideoMetadata","bitrate","codec","fps","height","width","_options","_fetch","Api","post","put","api","_api","Applications","error_1","error_2","composition","_composition","_id","Layer","setStart","_this","_updateAttribute","setLength","updateLayerAttribute","_super","Media","setTrim","Audio","setVolume","newVolume","setMuted","Filter","setFilter","VisualMedia","setBackgroundColor","setColor","setFormat","validateLayerFormat","setHeight","setWidth","setX","setY","Lottie","setAnimationData","Text","setFontFamily","setFontSize","setMaxFontSize","setMaxHeight","setMaxWidth","setText","setTextAlignment","validateTextAlignment","Video","setDimensions","Mixin","formData","_files","_formData","dimensions","new","filteredErrors","validateCompositionOptions","Composition","layers","_layers","layer","find","addAudio","file","validateAddAudio","_addLayer","audio","addFilter","validateAddFilter","addImage","validateAddImage","image","addLottie","validateAddLottie","lottie","addText","validateAddText","addVideo","validateAddVideo","addWaveform","validateAddWaveform","waveform","encode","_generateConfig","append","formDataKey","newLayer","setLayer","newLayers","to","from","pack","ar","layerIndex","findIndex","Videos","videoPath","metadataStream","encodeStream","tempFileDirectory","isValidUrl","_getMetadata","FormData","rmdirSync","error_3","getMetadata","videoFile","dataToAppend","dataTuple","prepareFormData","_clientId","_host","_token","_version","Editframe"],"mappings":"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"}